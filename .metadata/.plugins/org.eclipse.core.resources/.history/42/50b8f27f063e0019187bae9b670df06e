/*Written by Jacob Smith for Brandeis Robotics club
	Provides wrapper functions to allow the Zumo Shield and Zumo 32U4 robots play musical chords
	using their buzzers
	March 3 2019
*/

//includes the libraries of code necessary to make this one work

#include<ZumoShield.h>

//creates a new LineCalibrator object
LineCalibrator::LineCalibrator(String* regions, int numRegions) {
	//assigns the pointer parameter to instance field
	this->regions = regions;
	//assings the size to instance field
	this->numRegions = numRegions;
	//creates new arrays of correct size
	this->regionThresholds = new int[numRegions - 1];
	this->regionMins = new int[numRegions];
	this->regionMaxes = new int[numRegions];
	//to save the order of the regions to use as a priority list
	//to do that we need to actually copy a new array
	this->regionsPriority = new String[numRegions];
	//loop through regions array
	for (int i = 0; i < numRegions; i++) {
		//use pointers to copy strings to priority Array
		*(regionsPriority + i) = *(regions + i);
	}
	minGlobal = 9999;
	maxGlobal = -9999;

}

//calibrates the line sensors according to the given regions
void LineCalibrator::calibrateLineSensors() {

	Serial.println("Brandeis University Line Sensor Calibration");
	Serial.println(
			"This Program allows for the regions of a sumo battle ring to be measured");
	delay(2000);
	//loop through regions
	//create a buzzer to prompt user so the robot can be used without a screen
	ZumoBuzzer buzzer;

	for (int i = 0; i < numRegions; i++) {
		//the math is to make sure the note is at a pleasing octave
		buzzer.playNote(NOTE_D(i%4+3), 500, 15);
